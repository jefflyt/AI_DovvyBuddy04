# Application
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================================================
# Python Backend Integration (PR3.2e)
# ============================================================================

# Python Backend URL (for server-side API proxy)
# Development: http://localhost:8000
# Production: https://api.dovvybuddy.com
BACKEND_URL=http://localhost:8000

# Feature flag to enable Python backend (set to 'false' for rollback to TypeScript backend)
USE_PYTHON_BACKEND=true

# Public API URL (for client-side calls, usually proxied through Next.js)
NEXT_PUBLIC_API_URL=/api

# ============================================================================
# Legacy Configuration (for TypeScript backend compatibility)
# ============================================================================

# Embedding Provider (gemini | groq)
EMBEDDING_PROVIDER=gemini

# Google ADK Configuration
# NOTE: Always use gemini-2.0-flash for all Gemini LLM calls (not pro versions)
ENABLE_ADK=true  # Feature flag for gradual rollout
ADK_MODEL=gemini-2.0-flash
ADK_RETRIEVAL_MODEL=gemini-2.0-flash
ADK_SPECIALIST_MODEL=gemini-2.0-flash
ADK_SAFETY_MODEL=gemini-2.0-flash

# Google Gemini API (production target)
GEMINI_API_KEY=your_gemini_api_key_here
# Optional: Override default model (default: gemini-2.0-flash)
GEMINI_MODEL=gemini-2.0-flash

# LLM Generation Parameters (optional)
LLM_TEMPERATURE=0.7      # Creativity level (0-1, default: 0.7)
LLM_MAX_TOKENS=2048      # Max response length (default: 2048)
LLM_TIMEOUT_MS=10000     # API timeout in milliseconds (default: 10000)

# Tool Configuration
VECTOR_SEARCH_TIMEOUT_MS=2000
AGENT_TIMEOUT_MS=5000

# Database (Postgres with pgvector)
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://user:password@host:port/database

# RAG Feature Flag
# Enable/disable vector search retrieval
# Requires: 1) Content ingestion (run: pnpm content:ingest), 2) Vector DB setup
# Note: Backend defaults to true. Set to false if content not yet ingested.
ENABLE_RAG=true

# Session Configuration
SESSION_SECRET=your_session_secret_here_min_32_chars
# Session duration in hours (default: 24)
MAX_SESSION_DURATION_HOURS=24
# Max user message length in characters (default: 2000)
MAX_MESSAGE_LENGTH=2000

# Lead Capture & Delivery (PR4)
# Required: Get API key from https://resend.com/api-keys
RESEND_API_KEY=
# Required: Destination email for lead notifications
LEAD_EMAIL_TO=
# Optional: Sender email (requires domain verification at https://resend.com/domains)
LEAD_EMAIL_FROM=leads@dovvybuddy.com
# Optional: Webhook URL for lead notifications (future feature)
LEAD_WEBHOOK_URL=

# Legacy email configuration (not used by Python backend)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@dovvybuddy.com

# Analytics (optional, for future use)
GOOGLE_ANALYTICS_ID=

# Feature flags
ENABLE_TELEGRAM=false

# PR6.2: Conversation Continuity Feature
# Enable intent-driven follow-up questions for conversation continuity
# Must match backend setting (FEATURE_CONVERSATION_FOLLOWUP_ENABLED)
# Default: false (gradual rollout, disable for instant rollback)
NEXT_PUBLIC_FEATURE_CONVERSATION_FOLLOWUP_ENABLED=false

# ============================================================================
# Analytics & Monitoring (PR6)
# ============================================================================

# Analytics Provider: vercel | posthog | ga4 (default: vercel)
NEXT_PUBLIC_ANALYTICS_PROVIDER=vercel

# Posthog (if using Posthog)
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Google Analytics 4 (if using GA4)
NEXT_PUBLIC_GA_ID=

# Sentry Error Monitoring
SENTRY_DSN=
SENTRY_AUTH_TOKEN=
SENTRY_ORG=
SENTRY_PROJECT=

# Environment (automatically set by Vercel)
NEXT_PUBLIC_VERCEL_ENV=
